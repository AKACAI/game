{"version":3,"sources":["file:///D:/cocos_projects/physics_education_game/assets/scripts/common/NodeHelper.ts"],"names":["NodeHelper","Button","Node","Size","UIOpacity","UITransform","ButtonEventType","ComButton","Display","setPosX","node","posX","setPosition","position","y","z","setPosY","posY","x","setPosZ","posZ","setScaleX","scaleX","setScale","scale","setScaleY","scaleY","setScaleZ","scaleZ","setAnchorPoint","getComponent","setAnchorPointX","anchorY","setAnchorPointY","anchorX","setContentSize","width","height","getContentSize","contentSize","setContentWidth","setContentHeight","setOpacity","opacity","comp","addComponent","newNode","name","newButton","setNodeClickEvent","click_node","click_func","target","extParams","clickAnim","btnCpt","init","addEvent","type","click","func","params","setNodeSizeFullScreen","uiTransform","windowSize","getInstance","getWindowSize"],"mappings":"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","sourcesContent":["import { Button, Node, Size, Sprite, UIOpacity, UITransform } from \"cc\";\nimport { ButtonEventType, ComButton } from \"../manager/ui_manager/component/ComButton\";\nimport { Display } from \"./Display\";\n// declare function require(path: string): any;\n\n// 客户端布局等管理\nexport default class NodeHelper {\n    static setPosX(node: Node, posX: number) {\n        node.setPosition(posX, node.position.y, node.position.z);\n    }\n\n    static setPosY(node: Node, posY: number) {\n        node.setPosition(node.position.x, posY, node.position.z);\n    }\n\n    static setPosZ(node: Node, posZ: number) {\n        node.setPosition(node.position.x, node.position.y, posZ);\n    }\n\n    static setScaleX(node: Node, scaleX: number) {\n        node.setScale(scaleX, node.scale.y, node.scale.z);\n    }\n\n    static setScaleY(node: Node, scaleY: number) {\n        node.setScale(node.scale.x, scaleY, node.scale.z);\n    }\n\n    static setScaleZ(node: Node, scaleZ: number) {\n        node.setScale(node.scale.x, node.scale.y, scaleZ);\n    }\n\n    static setAnchorPoint(node: Node, x: number, y: number) {\n        node.getComponent(UITransform) && node.getComponent(UITransform).setAnchorPoint(x, y);\n    }\n\n    static setAnchorPointX(node: Node, x: number) {\n        node.getComponent(UITransform) && node.getComponent(UITransform).setAnchorPoint(x, node.getComponent(UITransform).anchorY);\n    }\n\n    static setAnchorPointY(node: Node, y: number) {\n        node.getComponent(UITransform) && node.getComponent(UITransform).setAnchorPoint(node.getComponent(UITransform).anchorX, y);\n    }\n\n    static setContentSize(node: Node, width: number, height: number) {\n        node.getComponent(UITransform) && node.getComponent(UITransform).setContentSize(width, height);\n    }\n\n    /**获取对应节点的uiTransform的size 如果没有，返回一个全新的size 0 ,0 */\n    static getContentSize(node: Node): Size {\n        if (node.getComponent(UITransform)) {\n            return node.getComponent(UITransform).contentSize;\n        } else {\n            return new Size(0, 0);\n        }\n\n    }\n\n    static setContentWidth(node: Node, width: number) {\n        node.getComponent(UITransform) && node.getComponent(UITransform).setContentSize(width, node.getComponent(UITransform).height);\n    }\n\n    static setContentHeight(node: Node, height: number) {\n        node.getComponent(UITransform) && node.getComponent(UITransform).setContentSize(node.getComponent(UITransform).width, height);\n    }\n\n    static setOpacity(node: Node, opacity: number) {\n        let comp = node.getComponent(UIOpacity)\n        if (!comp) {\n            comp = node.addComponent(UIOpacity)\n        }\n        comp.opacity = opacity;\n    }\n\n    // 创建新节点\n    static newNode(name?: string): Node {\n        let node = new Node(name);\n        node.addComponent(UITransform);\n        node.addComponent(UIOpacity);\n        return node;\n    }\n\n    // 创建新的带有Button组件的节点\n    static newButton(): Node {\n        let node: Node = new Node();\n        node.addComponent(Button);\n        node.addComponent(UITransform);\n        node.addComponent(UIOpacity);\n        return node;\n    }\n\n    // /**\n    //  * 设置已经加载的spriteFrame（使用时要确认资源已经加载）\n    //  * @param node 显示对象 或组件\n    //  * @param path 要设置的资源\n    //  * \n    //  */\n    // static loadAndSetImage(node: Node | Sprite, path: string, bundleName: string): void {\n    //     if (!node || !path) {\n    //         return;\n    //     }\n    //     ResManager.getInstance().loadAsset(path, LoadType.Texture, bundleName, (asset) => {\n    //         if (node instanceof Sprite) {\n    //             node.spriteFrame = asset;\n    //         } else if (node instanceof Node) {\n    //             let s = node.getComponent(Sprite);\n    //             if (s) {\n    //                 s.spriteFrame = asset;\n    //             } else {\n    //                 s = node.addComponent(Sprite);\n    //                 s.spriteFrame = asset;\n    //             }\n    //         }\n    //     }, () => {\n    //         console.warn(\"!!!setSpriteFrame!!!:\", path);\n    //     })\n    // }\n\n    /**\n     * \n     * @param click_widget 点击的对象\n     * @param click_func 触发的函数\n     * @param target 目标（触发的函数回调的调用者）\n     * @param extParams  额外参数\n     */\n    static setNodeClickEvent(click_node: Node, click_func: Function, target: any, extParams?: any, clickAnim?: boolean) {\n        if (!click_node || !click_func) {\n            return;\n        }\n        let btnCpt = click_node.getComponent(ComButton);\n        if (!btnCpt) {\n            btnCpt = click_node.addComponent(ComButton);\n        }\n        btnCpt.init(clickAnim, true);\n        btnCpt.addEvent({\n            type: ButtonEventType.click,\n            func: click_func,\n            target: target,\n            params: extParams,\n            clickAnim: clickAnim,\n        })\n    }\n\n    static setNodeSizeFullScreen(node: Node) {\n        if (!node) {\n            return;\n        }\n        let uiTransform: UITransform = node.getComponent(UITransform);\n        if (!uiTransform) {\n            return;\n        }\n        let windowSize = Display.getInstance().getWindowSize();\n        uiTransform.setContentSize(windowSize.x, windowSize.y);\n    }\n}\n"]}