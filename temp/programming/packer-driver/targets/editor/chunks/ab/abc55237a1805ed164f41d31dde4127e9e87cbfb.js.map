{"version":3,"sources":["file:///D:/cocos_projects/physics_education_game/assets/scripts/modules/ui/game_start_ui/LevelItem.ts"],"names":["_decorator","Component","Sprite","NodeHelper","Utils","ccclass","property","LevelItem","bg_item","undefined","img_lock","lb_level","data","maxOpacity","init","node","getChildByName","addListener","setNodeClickEvent","clickCb","setData","setLabelString","lb_mode_name","name","setProgressOpacity","progress","opacity","clamp","changeMaskOpacity","opacityCpt","img_state_mask","getComponent","color","a","dispose"],"mappings":";;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAmBC,MAAAA,S,OAAAA,S;AAAsCC,MAAAA,M,OAAAA,M;;AAC3DC,MAAAA,U;;AACAC,MAAAA,K;;;;;;;;;OAED;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;2BAGjBO,S,WADZF,OAAO,CAAC,WAAD,C,gBAAR,MACaE,SADb,SAC+BN,SAD/B,CACyC;AAAA;AAAA;AAAA,eAC7BO,OAD6B,GACbC,SADa;AAAA,eAE7BC,QAF6B,GAEZD,SAFY;AAAA,eAG7BE,QAH6B,GAGZF,SAHY;AAAA,eAK7BG,IAL6B,GAKJH,SALI;AAAA,eAMpBI,UANoB,GAMC,GAND;AAAA;;AAQ9BC,QAAAA,IAAI,GAAG;AACV,eAAKN,OAAL,GAAe,KAAKO,IAAL,CAAUC,cAAV,CAAyB,SAAzB,CAAf;AACA,eAAKN,QAAL,GAAgB,KAAKK,IAAL,CAAUC,cAAV,CAAyB,UAAzB,CAAhB;AACA,eAAKL,QAAL,GAAgB,KAAKI,IAAL,CAAUC,cAAV,CAAyB,UAAzB,CAAhB;AACA,eAAKC,WAAL;AACH;;AAEOA,QAAAA,WAAW,GAAG;AAClB;AAAA;AAAA,wCAAWC,iBAAX,CAA6B,KAAKH,IAAlC,EAAwC,MAAM;AAC1C,gBAAI,KAAKH,IAAL,IAAa,KAAKA,IAAL,CAAUO,OAA3B,EAAoC;AAChC,mBAAKP,IAAL,CAAUO,OAAV;AACH;AACJ,WAJD,EAIG,IAJH,EAISV,SAJT,EAIoB,KAJpB;AAKH;;AAEMW,QAAAA,OAAO,CAACR,IAAD,EAAyB;AACnC,eAAKA,IAAL,GAAYA,IAAZ;AACA;AAAA;AAAA,wCAAWS,cAAX,CAA0B,KAAKC,YAA/B,EAA6CV,IAAI,CAACW,IAAlD;AACH;;AAEMC,QAAAA,kBAAkB,CAACC,QAAD,EAAmB;AACxC,cAAIC,OAAO,GAAG;AAAA;AAAA,8BAAMC,KAAN,CAAYF,QAAQ,GAAG,KAAKZ,UAA5B,EAAwC,CAAxC,EAA2C,KAAKA,UAAhD,CAAd;AACA,eAAKe,iBAAL,CAAuBF,OAAvB;AACH;;AAEOE,QAAAA,iBAAiB,CAACF,OAAD,EAAkB;AACvC,cAAIG,UAAkB,GAAG,KAAKC,cAAL,CAAoBC,YAApB,CAAiC7B,MAAjC,CAAzB;;AACA,cAAI2B,UAAJ,EAAgB;AACZ,gBAAIG,KAAY,GAAGH,UAAU,CAACG,KAA9B;AACAA,YAAAA,KAAK,CAACC,CAAN,GAAU;AAAA;AAAA,gCAAMN,KAAN,CAAYD,OAAZ,EAAqB,CAArB,EAAwB,GAAxB,CAAV;AACAG,YAAAA,UAAU,CAACG,KAAX,GAAmBA,KAAnB;AACH;AACJ;;AAEME,QAAAA,OAAO,GAAG,CAEhB;;AA5CoC,O","sourcesContent":["import { _decorator, Color, Component, instantiate, Node, Prefab, Sprite, UIOpacity } from \"cc\";\nimport NodeHelper from \"../../../common/NodeHelper\";\nimport Utils from \"../../../utils/Utils\";\n\nconst { ccclass, property } = _decorator;\n\n@ccclass('LevelItem')\nexport class LevelItem extends Component {\n    private bg_item: Node = undefined;\n    private img_lock: Node = undefined;\n    private lb_level: Node = undefined;\n\n    private data: ISetDataModeItem = undefined;\n    private readonly maxOpacity: number = 100;\n\n    public init() {\n        this.bg_item = this.node.getChildByName(\"bg_item\");\n        this.img_lock = this.node.getChildByName(\"img_lock\");\n        this.lb_level = this.node.getChildByName(\"lb_level\");\n        this.addListener();\n    }\n\n    private addListener() {\n        NodeHelper.setNodeClickEvent(this.node, () => {\n            if (this.data && this.data.clickCb) {\n                this.data.clickCb();\n            }\n        }, this, undefined, false);\n    }\n\n    public setData(data: ISetDataModeItem) {\n        this.data = data;\n        NodeHelper.setLabelString(this.lb_mode_name, data.name);\n    }\n\n    public setProgressOpacity(progress: number) {\n        let opacity = Utils.clamp(progress * this.maxOpacity, 0, this.maxOpacity);\n        this.changeMaskOpacity(opacity);\n    }\n\n    private changeMaskOpacity(opacity: number) {\n        let opacityCpt: Sprite = this.img_state_mask.getComponent(Sprite);\n        if (opacityCpt) {\n            let color: Color = opacityCpt.color;\n            color.a = Utils.clamp(opacity, 0, 255);\n            opacityCpt.color = color;\n        }\n    }\n\n    public dispose() {\n\n    }\n}\n\nexport interface ISetDataModeItem {\n    name: string,\n    bg_path: string,\n    clickCb: Function,\n}"]}