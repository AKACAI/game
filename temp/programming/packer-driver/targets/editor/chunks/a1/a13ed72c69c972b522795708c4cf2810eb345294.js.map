{"version":3,"sources":["file:///D:/cocos_projects/physics_education_game/assets/scripts/manager/InputManager.ts"],"names":["_decorator","Node","Vec2","Singleton","UIManager","UILayer","ccclass","property","InputManager","init","_layerMouseInput","getInstance","getLayerNode","mouse_input","_mousePos","initFunc","mousePos","on","EventType","MOUSE_MOVE","mouseEvent","getUILocation"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAESA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,I,OAAAA,I;;AAFlBC,MAAAA,S,cAAAA,S;;AACAC,MAAAA,S,cAAAA,S;AAAWC,MAAAA,O,cAAAA,O;;;;;;;;;OAEd;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;8BAGjBQ,Y,WADZF,OAAO,CAAC,cAAD,C,gBAAR,MACaE,YADb;AAAA;AAAA,kCAC4C;AAIjCC,QAAAA,IAAI,GAAG;AACV,eAAKC,gBAAL,GAAwB;AAAA;AAAA,sCAAUC,WAAV,GAAwBC,YAAxB,CAAqC;AAAA;AAAA,kCAAQC,WAA7C,CAAxB;AAEA,eAAKC,SAAL,GAAiB,IAAIZ,IAAJ,EAAjB;AACA,eAAKa,QAAL;AACH;;AAEkB,YAARC,QAAQ,GAAS;AACxB,iBAAO,KAAKF,SAAZ;AACH;;AAEOC,QAAAA,QAAQ,GAAG;AACf;AACA,eAAKL,gBAAL,CAAsBO,EAAtB,CAAyBhB,IAAI,CAACiB,SAAL,CAAeC,UAAxC,EAAqDC,UAAD,IAAgB;AAChE;AACA,iBAAKN,SAAL,GAAiBM,UAAU,CAACC,aAAX,EAAjB,CAFgE,CAGhE;AACH,WAJD;AAKH;;AAtBuC,O","sourcesContent":["import { Singleton } from 'Singleton';\r\nimport { UIManager, UILayer } from 'UIManager';\r\nimport { _decorator, Node, Vec2 } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('InputManager')\r\nexport class InputManager extends Singleton {\r\n    private _layerMouseInput: Node;\r\n    private _mousePos: Vec2;\r\n\r\n    public init() {\r\n        this._layerMouseInput = UIManager.getInstance().getLayerNode(UILayer.mouse_input);\r\n\r\n        this._mousePos = new Vec2();\r\n        this.initFunc();\r\n    }\r\n\r\n    public get mousePos(): Vec2 {\r\n        return this._mousePos;\r\n    }\r\n\r\n    private initFunc() {\r\n        // TODO 这样的检测很不准确\r\n        this._layerMouseInput.on(Node.EventType.MOUSE_MOVE, (mouseEvent) => {\r\n            // console.log(mouseEvent.getUILocation())\r\n            this._mousePos = mouseEvent.getUILocation();\r\n            // console.log(this._mousePos)\r\n        })\r\n    }\r\n}\r\n\r\n\r\n"]}