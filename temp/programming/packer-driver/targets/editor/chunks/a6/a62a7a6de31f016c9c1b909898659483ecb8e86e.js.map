{"version":3,"sources":["file:///D:/cocos_projects/physics_education_game/assets/scripts/common/Display.ts"],"names":["Display","Button","Node","Size","Sprite","UIOpacity","UITransform","ResManager","setPosX","node","posX","setPosition","position","y","z","setPosY","posY","x","setPosZ","posZ","setScaleX","scaleX","setScale","scale","setScaleY","scaleY","setScaleZ","scaleZ","setAnchorPoint","getComponent","setAnchorPointX","anchorY","setAnchorPointY","anchorX","setContentSize","width","height","getContentSize","contentSize","setContentWidth","setContentHeight","setOpacity","opacity","comp","addComponent","newNode","name","newButton","setSpriteFrame","path","bundleName","getInstance","loadAsset","frame","TextureManager","getSpriteFrameFromCache","spriteFrame","s","console","warn","loadAndSetImage","obj","tCallback","targetObj","isAutoReleaseImage","lev","BundleName","Resources","LoadAndSetImageComponent","setResPath","unloadImage","unLoadRes","setClickEventByType","click_widget","click_func","target","extParams","f","event","call","ComponentHelper","newComButton","clickFunc","param","removeComAllClickFunc","combutton","ComButton","removeAllClickFunc","removeComAllClickFuncAndComButton","destroy","setAssetImg","img","base_id","LogManager","debugLog","js","formatStr","playEllipseAction","pos","radiusA","radiusB","speed","isCounterclockwise","token","angle","isCheckZ","loops","cbData","TimerManager","removeTimerWithToken","time","baseAngle","count","addTimer","v3","getPosition","execute","Math","cos","angle2radian","sin","PI","newImage","img_path","nodeNmae","imgNode","cachedFrame","sprite","isValid","error","newParticle","particlePath","particle","particleNode","particleComp","ParticleSystem2D","playOnLoad","partileFile","getParticleByUrl","file","newColorLayer","color","size","newSprite","instantiatePrefab","prefabPath","prefabAsset","getPrefabByUrl","prefabNode","instantiate","AutoPrefabI18nMgr","transLabel","colorGrey","isGrey","rate","max","min","Color","WHITE","getNoBorderScaleValue","nodeWidth","nodeHeight","gameWidth","gameHeight","sx","sy","maxScale","createLoadingAction","objList","interval","index","showObjList","i","v","active","parseInt","length","getFullFrameScale","curResolutionPolicy","ResolutionPolicy","FIXED_WIDTH","frameSize","sizeInPixels","design_height","design_width","setSpriteFrameRect","top","botton","left","right","type","Type","SLICED","SpriteFrame","insetTop","insetBottom","insetLeft","insetRight","setButtonTextColor","getChildByName","Label","playRotateActionUp","fAngle","tAngle","tween","to","start","playRotateActionDown","runAfterRender","cbFunc","apply","setButtonIsCanClick","isCanClick","resumeSystemEvents","pauseSystemEvents","scaleForeverAnim","bigS","smallS","Tween","stopAllByTarget","toScale1","toScale2","repeatForever","clone","isIphoneX","SdkManager","loadItemIconImg","iconPath","finishCallBack","plistPath","PathDefine","getItemIconPlistPath","sprFrame","spriteComp","loadPlist","resPath","callback","littleGameScale","numX","numY","isHasScaleRes","undefined","sdkRightTopMove","closeBtn","movePos","isSmallGame","MOVE_LEFT","getHeightAdaptionScale","FIXED_HEIGHT","getMaxScal","showAssets","num","text","floor","language","numlv","wan","string","numToWanString","numberAbbreviation","abbreviation","yi","numberShort","doShake","offset","set","union","repeat","showNum","thousand","kilobit","hundred","hundreds_millions","millions_millions","million","closeOpeningWinDow","winName","win","WindowManager","getWinByName","closeBySelf","setBgMaxSize","DEBUG","log","v2","moveOutHidWithNode","params","moisCom","MoveOutInScreenComponent","moveOut","moveInShowWithNode","originalX","noDelay","moveIn","getfntSize","getValidRect","validRect","setModelFashion","model","fashionSetsId","itemSuit","FashionData","getFashionSetsById","sets","tempArr","Utils","str2arr","modelFashionList","element","fId","Number","itemPart","getFashionItem","fpd","FashionPartData","id","push","makeup_sets","faceCfg","getCosmeticsSetsDataById","setsStr","setsArr","key_setsArr","element_setsArr","setData","ary_looks","setModelFashionWithMyFace","fashion_id","faceData","FashionManager","getdefaulFaceData","faceKey","faceOne","filterSpecialChar","inputString","pattern","RegExp","subString","replace","tmpString","isTheSame","rep","writeFileToLocal","data","filePath","port","successCb","failCb","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","status","response","responseText","JSON","parse","onerror","tmpData","fileData","stringify","send","createAndSetMaterial","res","material","passIndex","mat","pass","Material","initialize","effectName","defines","USE_ALBEDO_MAP","setProperty","shakeScreen","sType","isDef","pow","endCallback","d","tx","ty","tz","arr","ts","dis","x1","y1","x2","y2","x3","y3","getScreenRect","rect","Rect","frameSzie","ratio","toFixed","addUIMeshComponent","layer","_layer","LayerHelper","UI_2D","setLayer","MeshRenderer","UIMeshRenderer","childs","getComponentsInChildren","updateSuitableUISize","designSize","view","getDesignResolutionSize","visibleSize","getVisibleSize","realHeight","realWidth","suitableUISize","suitableWidthScale","suitableHeightScale","fullNode","mode","real","suitableSize","updateScale","uiTrans","_uiProps","uiTransformComp","nodeSize","realScale","nodeScale","setNodeVisible","isVisible","setNodeColor","UIRenderer","autoClick","worldPos","posA","visibleToScreenX","input","activeDispatchEventTouch","Input","EventType","TOUCH_START","setTimeout","TOUCH_END","fakeClick","widget","changedTouches","endEvent","EventTouch","touch","Touch","startEvent","emit"],"mappings":"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","sourcesContent":["import { Button, Node, Size, Sprite, UIOpacity, UITransform } from \"cc\";\nimport { ResManager } from \"../manager/ResManager\";\n\n// declare function require(path: string): any;\n\n// 客户端布局等管理\nexport default class Display {\n    static setPosX(node: Node, posX: number) {\n        node.setPosition(posX, node.position.y, node.position.z);\n    }\n\n    static setPosY(node: Node, posY: number) {\n        node.setPosition(node.position.x, posY, node.position.z);\n    }\n\n    static setPosZ(node: Node, posZ: number) {\n        node.setPosition(node.position.x, node.position.y, posZ);\n    }\n\n    static setScaleX(node: Node, scaleX: number) {\n        node.setScale(scaleX, node.scale.y, node.scale.z);\n    }\n\n    static setScaleY(node: Node, scaleY: number) {\n        node.setScale(node.scale.x, scaleY, node.scale.z);\n    }\n\n    static setScaleZ(node: Node, scaleZ: number) {\n        node.setScale(node.scale.x, node.scale.y, scaleZ);\n    }\n\n    static setAnchorPoint(node: Node, x: number, y: number) {\n        node.getComponent(UITransform) && node.getComponent(UITransform).setAnchorPoint(x, y);\n    }\n\n    static setAnchorPointX(node: Node, x: number) {\n        node.getComponent(UITransform) && node.getComponent(UITransform).setAnchorPoint(x, node.getComponent(UITransform).anchorY);\n    }\n\n    static setAnchorPointY(node: Node, y: number) {\n        node.getComponent(UITransform) && node.getComponent(UITransform).setAnchorPoint(node.getComponent(UITransform).anchorX, y);\n    }\n\n    static setContentSize(node: Node, width: number, height: number) {\n        node.getComponent(UITransform) && node.getComponent(UITransform).setContentSize(width, height);\n    }\n\n    /**获取对应节点的uiTransform的size 如果没有，返回一个全新的size 0 ,0 */\n    static getContentSize(node: Node): Size {\n        if (node.getComponent(UITransform)) {\n            return node.getComponent(UITransform).contentSize;\n        } else {\n            return new Size(0, 0);\n        }\n\n    }\n\n    static setContentWidth(node: Node, width: number) {\n        node.getComponent(UITransform) && node.getComponent(UITransform).setContentSize(width, node.getComponent(UITransform).height);\n    }\n\n    static setContentHeight(node: Node, height: number) {\n        node.getComponent(UITransform) && node.getComponent(UITransform).setContentSize(node.getComponent(UITransform).width, height);\n    }\n\n    static setOpacity(node: Node, opacity: number) {\n        let comp = node.getComponent(UIOpacity)\n        if (!comp) {\n            comp = node.addComponent(UIOpacity)\n        }\n        comp.opacity = opacity;\n    }\n\n    // 创建新节点\n    static newNode(name?: string): Node {\n        let node = new Node(name);\n        node.addComponent(UITransform);\n        node.addComponent(UIOpacity);\n        return node;\n    }\n\n    // 创建新的带有Button组件的节点\n    static newButton(): Node {\n        let node: Node = new Node();\n        node.addComponent(Button);\n        node.addComponent(UITransform);\n        node.addComponent(UIOpacity);\n        return node;\n    }\n\n    /**\n     * 设置已经加载的spriteFrame（使用时要确认资源已经加载）\n     * @param node 显示对象 或组件\n     * @param path 要设置的资源\n     * \n     */\n    static setSpriteFrame(node: Node | Sprite, path: string, bundleName: string): void {\n        if (!node || !path) {\n            return;\n        }\n        ResManager.getInstance().loadAsset()\n        let frame = TextureManager.getSpriteFrameFromCache(path);\n        if (frame) {\n            if (node instanceof Sprite) {\n                node.spriteFrame = frame;\n            } else if (node instanceof Node) {\n                let s = node.getComponent(Sprite);\n                if (s) {\n                    s.spriteFrame = frame;\n                } else {\n                    s = node.addComponent(Sprite);\n                    s.spriteFrame = frame;\n                }\n            }\n        } else {\n            console.warn(\"!!!setSpriteFrame!!!:\", path);\n\n        }\n    }\n\n\n    /**\n     * 加载并设置图片，当节点销毁时会释放资源\n     * (如果节点不销毁，需要手动释放资源，用Display.unloadImage方法释放)\n     * @param node 节点或者Sprite组件\n     * @param path 资源路径 \n     * @param tCallback 回调函数，可传null\n     * @param targetObj 调用者，可传null\n     * @param isAutoReleaseImage 当节点销毁时释放资源，true释放（默认）,false:不释放\n     * @param lev 加载优先级 默认0\n     */\n    static loadAndSetImage(obj: Node | Sprite, path: string, tCallback: Function = null, targetObj: any = null, isAutoReleaseImage: boolean = true, lev: number = 0, bundleName = BundleName.Resources): boolean {\n        if (!obj) {\n            return false;\n        }\n        let node;\n        if (obj instanceof Sprite) {\n            node = obj.node;\n        } else {\n            node = obj;\n        }\n        let comp: LoadAndSetImageComponent = node.getComponent(LoadAndSetImageComponent);\n        if (!comp) {\n            comp = node.addComponent(LoadAndSetImageComponent);\n        }\n\n        comp.setResPath(path, tCallback, targetObj, isAutoReleaseImage, lev, bundleName);\n\n        return true;\n    }\n\n    /**\n     * 释放资源资源\n     * 注：只释放loadAndSetImage加载的资源） */\n    static unloadImage(obj: Node | Sprite, path?: string) {\n        let node;\n        if (!obj) {\n            return\n        }\n        if (obj instanceof Sprite) {\n            node = obj.node;\n        } else {\n            node = obj;\n        }\n        let comp: LoadAndSetImageComponent = node.getComponent(LoadAndSetImageComponent);\n        if (comp) {\n            comp.unLoadRes();\n        }\n\n    }\n\n\n    /**\n     * \n     * @param click_widget 点击的对象\n     * @param click_func 触发的函数\n     * @param target 目标（触发的函数回调的调用者）\n     * @param extParams  额外参数\n     */\n    static setClickEventByType(click_widget: Node, click_func: Function, target: any, extParams?: INewComButtonPExt) {\n        let f = (event) => {\n            if (target) {\n                click_func.call(target, click_widget, event)\n            } else {\n                click_func(click_widget, event)\n            }\n        }\n\n        ComponentHelper.getInstance().newComButton({\n            node: click_widget,\n            clickFunc: f,\n            param: extParams\n        })\n    }\n\n\n    static removeComAllClickFunc(click_widget: Node) {\n        let combutton = click_widget.getComponent(ComButton)\n        if (combutton) {\n            combutton.removeAllClickFunc()\n        }\n    }\n\n    /**移除按钮中的事件并且移除点击按钮组件 */\n    static removeComAllClickFuncAndComButton(click_widget: Node) {\n        let combutton = click_widget.getComponent(ComButton)\n        if (combutton) {\n            combutton.removeAllClickFunc()\n            combutton.destroy()\n        }\n    }\n\n\n    // 设置资产图片\n    static setAssetImg(img: Node, base_id: number): void {\n        if (base_id < 10000) {\n            base_id = 10000\n            LogManager.debugLog(\"base_id must be bigger than 10000\")\n        }\n\n        Display.setSpriteFrame(img, js.formatStr(\"img_asset_%s\", base_id));\n    }\n\n    /**\n     * 目标椭圆旋转\n     * @param target 旋转目标\n     * @param pos 椭圆中心\n     * @param radiusA 椭圆长半轴\n     * @param radiusB 椭圆短半轴\n     * @param speed 每秒旋转的度数\n     * @param isCounterclockwise 是否逆时针旋转\n     * @param token 标识\n     * @param angle 初始角度\n     * @param isCheckZ 检测层次\n     * @param loops旋转圈数\n     * @param cbData旋转完成回调\n     */\n    static playEllipseAction(target: Node, pos, radiusA, radiusB, speed: number, isCounterclockwise, token, angle: number, isCheckZ, loops: number, cbData?: CallbackData) {\n        TimerManager.removeTimerWithToken(token);\n\n        angle = angle ? angle : 0;\n        let time: number = 10;\n        speed = speed * time / 1000;\n\n        // 圈数\n        loops = loops ? loops : 0;\n        let baseAngle: number = 0;\n        let count: number = 0;\n\n        TimerManager.addTimer(10, function () {\n            if (isCounterclockwise == true) {\n                angle = angle + speed;\n                if (angle >= 360) {\n                    angle = 0;\n                }\n            } else {\n                angle = angle - speed;\n                if (angle <= 0) {\n                    angle = 360;\n                }\n            }\n            if (isCheckZ) {\n                if (angle > 40 && angle < 140) {\n                    target.setPosition(v3(target.getPosition().x, target.getPosition().y, 0));\n                } else {\n                    target.setPosition(v3(target.getPosition().x, target.getPosition().y, 1));\n                }\n            }\n\n            if (loops > 0) {\n                baseAngle = baseAngle + speed;\n                if (baseAngle >= 360) {\n                    baseAngle = baseAngle - 360;\n                    count = count + 1;\n                    if (count >= loops) {\n                        TimerManager.removeTimerWithToken(token);\n                        if (cbData) {\n                            cbData.execute();\n                        }\n                    }\n                }\n            }\n\n            let x = radiusA * Math.cos(Display.angle2radian(angle)) + pos.x;\n            let y = radiusB * Math.sin(Display.angle2radian(angle)) + pos.y;\n            target.setPosition(x, y);\n        }, target, true, null, token);\n    }\n\n    /**\n     * 角度转成弧度\n     * @param angle 角度\n     */\n    static angle2radian(angle: number): number {\n        return angle * (Math.PI / 180);\n    }\n\n\n\n    /**\n     * 创建显示对象并赋资源 (不会加载资源)\n     * @param img_path 资源路径\n     */\n    static newImage(img_path: string, nodeNmae?: string): Node {\n        nodeNmae = nodeNmae || \"imgNode\"\n        let imgNode = new Node(nodeNmae);\n        let cachedFrame = TextureManager.getSpriteFrameFromCache(img_path);\n        let sprite = imgNode.addComponent(Sprite);\n        if (cachedFrame) {\n            if (imgNode && imgNode.isValid) {\n                sprite.spriteFrame = cachedFrame;\n            }\n        } else {\n            console.error(\"!!内存里没有这个资源!! \", img_path);\n        }\n\n        return imgNode;\n    }\n\n\n    /**\n     * 创见显示对象并设置粒子效果\n     * @param particlePath 粒子效果路径\n     */\n    static newParticle(particlePath: string, bundleName = BundleName.particle): Node {\n        let particleNode = Display.newNode(\"particle\");\n        let particleComp = particleNode.addComponent(ParticleSystem2D);\n        particleComp.playOnLoad = true;\n\n        let partileFile = TextureManager.getParticleByUrl(particlePath, bundleName)\n\n        if (partileFile) {\n            particleComp.file = partileFile;\n        }\n        return particleNode;\n    }\n\n    /**\n     * 创建新的带颜色的层\n     * @param color 颜色\n     */\n    static newColorLayer(color: Color, size: Size): Node {\n        let node: Node = Display.newSprite();\n        node.getComponent(Sprite).color = color;\n        Display.setSpriteFrame(node, \"img_white\");\n        node.getComponent(UITransform).setContentSize(size);\n        // let node_ctx = node.addComponent(Graphics);//有Sprite不能再加Graphics\n        // node_ctx.rect(0, 0, size.width, size.height);\n        // node_ctx.fillColor = color\n        // node_ctx.fill();\n        return node;\n    }\n\n    /**\n     * 实例化prefab\n     * @param prefabPath\n     */\n    static instantiatePrefab(prefabPath: string, bundleName = BundleName.Resources): Node {\n        let prefabAsset = TextureManager.getPrefabByUrl(prefabPath, bundleName);\n        let prefabNode;\n        if (prefabAsset) {\n            prefabNode = instantiate(prefabAsset);\n        } else {\n            console.error(\"缓存中没有找到这个prefab资源!! \", bundleName, prefabPath);\n        }\n\n        AutoPrefabI18nMgr.transLabel(prefabPath, prefabNode)\n\n        return prefabNode;\n    }\n\n    /**\n     * 把传入的节点添加一层灰色（非滤镜方案，需要滤镜的调用filterGrey）\n     * @param node\n     * @param isGrey \n     * @param rate \n     */\n    static colorGrey(node: Node, isGrey?: boolean, rate?: number) {\n        if (!node || !node.isValid || !node.getComponent(Sprite)) {\n            return;\n        }\n\n        if (isGrey) {\n            if (rate) {\n                rate = Math.max(rate, 0);\n                rate = Math.min(rate, 1);\n                rate = 1 - rate;\n                node.getComponent(Sprite).color = new Color(255 * rate, 255 * rate, 255 * rate);\n            } else {\n                node.getComponent(Sprite).color = new Color(150, 150, 150);\n            }\n        } else {\n            node.getComponent(Sprite).color = Color.WHITE;\n        }\n    }\n\n    // static playClickSound(soundId?) {\n    //     if (soundId && soundId <= 0) {\n    //         return\n    //     }\n    //     if (SoundManager.isInit) {\n    //         soundId = soundId || SoundCfg.effect.comm_click_sound\n    //         AudioEngine.playEffect(soundId)\n    //     }\n    // }\n\n    // 获取无黑边等比缩放比例\n    // @return 一个缩放比\n    static getNoBorderScaleValue(nodeWidth, nodeHeight) {\n        let gameWidth = Display.width\n        let gameHeight = Display.height\n\n        let sx = gameWidth / nodeWidth\n        let sy = gameHeight / nodeHeight\n\n        let maxScale = 0\n\n        if (sx > sy) {\n            maxScale = sx\n        } else {\n            maxScale = sy\n        }\n\n        return maxScale\n    }\n\n\n    public static createLoadingAction(objList: Node[], interval: number, token: string) {\n        TimerManager.removeTimerWithToken(token);\n        let index = 0\n        let showObjList = function () {\n            for (const i in objList) {\n                const v = objList[i];\n                v.active = (parseInt(i) <= index)\n            }\n        }\n        TimerManager.addTimer(interval * 1000, function () {\n            index = index + 1\n            if (index > objList.length) {\n                index = 1\n            }\n            showObjList()\n        }, this, true, null, objList)\n        showObjList()\n    }\n\n    public static getFullFrameScale() {\n        let scale = 1\n\n        if (Display.curResolutionPolicy == ResolutionPolicy.FIXED_WIDTH) {\n            let frameSize = Display.sizeInPixels\n            let contentSize = size(0, 0)\n            scale = (frameSize.height / Display.design_height) / (frameSize.width / Display.design_width)\n        }\n\n        return scale\n    }\n\n\n    // 设置精灵边框\n    public static setSpriteFrameRect(node: Node, top: number, botton: number, left: number, right: number) {\n        let sprite = node.getComponent(Sprite)\n        if (sprite) {\n            sprite.type = Sprite.Type.SLICED;\n            if (!sprite.spriteFrame) sprite.spriteFrame = new SpriteFrame();\n            sprite.spriteFrame.insetTop = (top)\n            sprite.spriteFrame.insetBottom = (botton)\n            sprite.spriteFrame.insetLeft = (left)\n            sprite.spriteFrame.insetRight = (right)\n        }\n    }\n\n    public static setButtonTextColor(node: Node, color: Color) {\n        node.getChildByName(\"Label\").getComponent(Label).color = color\n    }\n\n    public static playRotateActionUp(node: Node, fAngle, tAngle) {\n        node.angle = fAngle != null ? fAngle : 0\n        tween(node).to(0.2, { angle: tAngle != null ? tAngle : -90 }).start();\n    }\n\n    public static playRotateActionDown(node: Node, fAngle, tAngle) {\n        node.angle = fAngle != null ? fAngle : -90\n        tween(node).to(0.2, { angle: tAngle != null ? tAngle : 0 }).start();\n    }\n\n\n    // public static widgetBtnSmallAim(nodeObj, smallScale?: number) {\n    //     let scale = 0.9\n    //     if (smallScale) {\n    //         scale = smallScale\n    //     }\n    //     nodeObj.stopAllActions()\n    //     nodeObj.runAction(\n    //         scaleTo(0.1, scale * nodeObj.scaleX / Math.abs(nodeObj.scaleX),\n    //             scale * nodeObj.scaleY / Math.abs(nodeObj.scaleY))\n    //     )\n    // }\n\n    //todo func可能会因为this对象没指定而有问题\n    // public static widgetResume(nodeObj, func?: any, resumeScale?: number) {\n    //     let scale = 1\n    //     if (resumeScale) {\n    //         scale = resumeScale\n    //     }\n    //     nodeObj.stopAllActions()\n    //     nodeObj.runAction(\n    //         sequence(\n    //             scaleTo(0.1, scale),\n    //             callFunc(function (nodeObj) {\n    //                 if (func) {\n    //                     func(nodeObj)\n    //                 }\n    //             })\n    //         )\n    //     )\n    // }\n\n    // cc引擎在节点添加到场景，即实际能渲染时，部分接口才会生效\n    //例如setContentSize，因此添加如下接口。\n    public static runAfterRender(comp: Component, cbFunc: any, target?: any) {\n        if (comp) {\n            comp[\"start\"] = function () {\n                if (target) {\n                    cbFunc.apply(target, []);\n                } else {\n                    cbFunc();\n                }\n            }\n\n            // comp[\"onLoad\"] = function () {\n            //     if (target) {\n            //         cbFunc.apply(target, []);\n            //     } else {\n            //         cbFunc();\n            //     }\n            // }\n        }\n    }\n\n    // 设施按钮是否可以点击\n    public static setButtonIsCanClick(node: Node, isCanClick: boolean) {\n        if (isCanClick) {\n            node.resumeSystemEvents(true);\n        } else {\n            node.pauseSystemEvents(true);\n        }\n    }\n\n    // 持续缩放动画\n    public static scaleForeverAnim(target: Node, bigS?: number, smallS?: number, time?: number) {\n        Tween.stopAllByTarget(target);\n        let toScale1: number | Vec3 = bigS || 0.1;\n        toScale1 = v3(target.scale.x + toScale1, target.scale.y + toScale1, target.scale.z + toScale1);\n        let toScale2: number | Vec3 = -(smallS || 0.1);\n        toScale2 = v3(target.scale.x + toScale2, target.scale.y + toScale2, target.scale.z + toScale2);\n\n        time = time || 0.6\n        tween(target).repeatForever(tween(target).to(time, { scale: toScale1.clone() }).to(time, { scale: toScale2.clone() })).start();\n    }\n\n    public static isIphoneX() {\n        // return true\n        return SdkManager.getInstance().isIphoneX()\n    }\n\n    /**\n     * itemicon 图片已经打成图集\n     * @param node \n     * @param iconPath  item_100001\n     */\n    static loadItemIconImg(node: Node, iconPath: string, finishCallBack?: () => void) {\n\n        let plistPath = PathDefine.getItemIconPlistPath(iconPath)\n        if (!plistPath) {\n            return\n        }\n        let sprFrame = TextureManager.getSpriteFrameFromCache(iconPath)\n        let spriteComp = node.getComponent(Sprite);\n        if (spriteComp == null) {\n            node.addComponent(Sprite);\n        }\n\n        node[\"__loadItemIconImg_iconPath\"] = iconPath\n\n        if (sprFrame) {\n            node.getComponent(Sprite).spriteFrame = sprFrame\n        } else {\n            TextureManager.loadPlist({\n                resPath: plistPath,\n                callback: function (sprFrame: SpriteFrame) {\n                    if (node.isValid && node[\"__loadItemIconImg_iconPath\"] == iconPath) {\n                        node.getComponent(Sprite).spriteFrame = TextureManager.getSpriteFrameFromCache(iconPath)\n                        finishCallBack && finishCallBack()\n                    }\n                }, target: this\n            })\n        }\n    }\n\n    /**\n     * 小游戏特殊处理缩放\n     * @param node 要缩放的节点\n     * @param num 缩放倍数\n     */\n    static littleGameScale(node: Node, numX?: number, numY?: number) {\n        if (SdkManager.getInstance().isHasScaleRes()) {\n            if (numX != undefined && numY != undefined) {\n                node.setScale(node.scale.x * numX, node.scale.y * numY)\n            }\n            else if (numX != undefined) {\n                node.setScale(node.scale.x * numX, node.scale.y * numX)\n            }\n            else {\n                node.setScale(node.scale.x * 1.25, node.scale.y * 1.25)\n            }\n\n        }\n    }\n\n    //小游戏按钮偏移\n    static sdkRightTopMove(closeBtn: Node, movePos?: Vec2): boolean {\n        if (!closeBtn) {\n            return false;\n        }\n\n        if (SdkManager.getInstance().isSmallGame()) {\n\n            let pos = movePos == undefined ? Display.MOVE_LEFT : movePos;\n            closeBtn.setPosition(closeBtn.getPosition().x + pos.x, closeBtn.getPosition().y + pos.y);\n            return true;\n        }\n        return false;\n    }\n\n    static getHeightAdaptionScale() {\n        let scale = v3(1, 1, 1)\n        if (Display.curResolutionPolicy == ResolutionPolicy.FIXED_HEIGHT) {\n            scale = Display.getMaxScal()\n        }\n        return scale\n    }\n\n    static showAssets(node: Node, num: number): Label {\n        let s = node.getComponent(Label);\n        let text = \"\"\n        if (num >= 1000000) {\n            text = Math.floor(num / 10000) + language.numlv.wan;\n        } else {\n            text = num + \"\"\n        }\n\n        if (s != null) {\n            s.string = text;\n        }\n\n        return s\n    }\n\n    /**把超过100万的数字改成万为单位，返回字符串 by lwx */\n    static numToWanString(num: number): string {\n        let text = ''\n        if (num >= 1000000) {\n            text = Math.floor(num / 10000) + language.numlv.wan;\n        } else {\n            text = num + \"\"\n        }\n        return text\n    }\n\n    /**\n     * 数字显示缩写\n     * @param node label结点\n     * @param num 数量\n     * @param abbreviation 大于多少显示缩写\n     */\n    static numberAbbreviation(node: Node, num: number, abbreviation: number): Label {\n        let s = node.getComponent(Label);\n        let text = \"\"\n        //亿\n        if (num >= 100000000) {\n            text = Math.floor(num / 100000000) + language.numlv.yi;\n        } else if (num >= abbreviation) {\n            text = Math.floor(num / 10000) + language.numlv.wan;\n        } else {\n            text = num + \"\"\n        }\n\n        if (s != null) {\n            s.string = text;\n        }\n\n        return s\n    }\n\n    /**返回数字缩写带单位 */\n    static numberShort(num: number, abbreviation: number): string {\n        let text = \"\"\n        //亿\n        if (num >= 100000000) {\n            text = Math.floor(num / 100000000) + language.numlv.yi;\n        } else if (num >= abbreviation) {\n            text = Math.floor(num / 10000) + language.numlv.wan;\n        } else {\n            text = num + \"\"\n        }\n\n        return text;\n    }\n\n\n    static doShake(node: Node) {\n        let pos = node.getPosition();\n        let offset = 10;\n        tween(node).to(0.03, {\n            position: v3(pos.x - (2 + offset), pos.y + (offset + 10))\n        }).to(0.03, {\n            position: v3(pos.x + (1 + offset), pos.y - (offset + 1))\n        }).set({\n            position: pos\n        }).union().repeat(2).start();\n    }\n\n    static showNum(num: number) {\n        let text = \"\"\n        if (num >= 10000 && num < 100000000) {\n            let thousand = Math.floor(num / 10000)\n            let kilobit = Math.floor(num % 10000 / 1000)//千位数\n            let hundred = Math.floor(num % 1000 / 100)//百位数\n            return text = thousand + \".\" + kilobit + language.numlv.wan\n        } else if (num >= 100000000) {\n            let hundreds_millions = Math.floor(num / 100000000)\n            let millions_millions = Math.floor(num % 100000000 / 10000000) //千万位\n            let million = Math.floor(num % 10000000 / 1000000) //百万位\n            return text = hundreds_millions + \".\" + millions_millions + language.numlv.yi\n        } else {\n            return text = num + \"\"\n        }\n    }\n\n\n\n    /**\n     * 关闭当前打开的窗口\n     * @param winName \n     */\n    static closeOpeningWinDow(winName: string) {\n        if (!winName || winName == \"\") {\n            return;\n        }\n        let win = WindowManager.getInstance().getWinByName(winName);\n        if (win) {\n            win.closeBySelf();\n        }\n    }\n\n\n    /**\n     * 设置背景尺寸\n     */\n    static setBgMaxSize(node: Node) {\n        if (!node) {\n            if (DEBUG) {\n                log(\"node为空\");\n            }\n            return;\n        }\n\n        node.getComponent(UITransform).setAnchorPoint(v2(0, 0));\n        node.setPosition(0, 0);\n        node.getComponent(UITransform).height = Display.height;\n        node.getComponent(UITransform).width = Display.design_width;\n        node.setScale(v3(Display.getMaxScal()));\n\n    }\n\n\n    /**\n     * 移出屏幕隐藏\n     * @params 节点或节点数组\n     */\n    static moveOutHidWithNode(params: Node | Node[]) {\n        if (params instanceof Node) {\n            let moisCom = params.getComponent(MoveOutInScreenComponent)\n            if (!moisCom) {\n                moisCom = params.addComponent(MoveOutInScreenComponent)\n            }\n            moisCom.moveOut();\n            params.active = false;\n        } else {\n            for (const i in params) {\n                const node = params[i];\n                let moisCom = node.getComponent(MoveOutInScreenComponent)\n                if (!moisCom) {\n                    moisCom = node.addComponent(MoveOutInScreenComponent)\n                }\n                moisCom.moveOut();\n                node.active = false;\n            }\n        }\n\n    }\n\n\n    /**\n     * 移进显示区\n     * @params 节点或节点数组\n     * @originalX 移入时指定位置\n     * @noDelay 不要移时执行\n     */\n    static moveInShowWithNode(params: Node | Node[], originalX?: number, noDelay?: boolean) {\n        if (!params) {\n            return;\n        }\n        if (params instanceof Node) {\n\n            let moisCom = params.getComponent(MoveOutInScreenComponent)\n            if (!moisCom) {\n                moisCom = params.addComponent(MoveOutInScreenComponent)\n            }\n            moisCom.moveIn(noDelay, originalX);\n            params.active = true;\n        } else {\n            for (const i in params) {\n                const node = params[i];\n                let moisCom = node.getComponent(MoveOutInScreenComponent)\n                if (!moisCom) {\n                    moisCom = node.addComponent(MoveOutInScreenComponent)\n                }\n                moisCom.moveIn(noDelay, originalX);\n                node.active = true;\n            }\n        }\n    }\n\n    /**获取fnt字体大小，传入的ttf字体大小+2 */\n    static getfntSize(size: number) {\n        //当前只有中文支持\n        // if (isNaN(size)) {\n        //     return 38;\n        // }\n        // return size + 2;    \n        return 38;\n    }\n\n    static getValidRect() {\n        return Display.validRect;\n    }\n\n\n    /**\n     * 传入时装ID，设置时装模型的时装\n     * @param model 时装模型\n     * @param fashionSetsId 时装套装ID\n     */\n    static setModelFashion(model: RoleObjectAnimation, fashionSetsId: number) {\n        if (!model || !fashionSetsId) {\n            return;\n        }\n        let itemSuit = FashionData.getInstance().getFashionSetsById(fashionSetsId)\n\n        if (itemSuit && itemSuit.sets) {\n            let tempArr = Utils.str2arr(itemSuit.sets);\n            let modelFashionList = []\n\n            for (let i = 0; i < tempArr.length; i++) {\n                const element = tempArr[i];\n                let fId = Number(element[1]);\n                let itemPart = FashionData.getInstance().getFashionItem(fId);\n                if (itemPart) {\n                    let fpd = new FashionPartData();\n                    fpd.id = itemPart.id;\n                    fpd.type = itemPart.type;\n                    modelFashionList.push({\n                        id: itemPart.id,\n                        type: itemPart.type,\n                    });\n                }\n            }\n\n            // 搭配展示妆容\n            if (itemSuit.makeup_sets) {\n                let faceCfg = FashionData.getInstance().getCosmeticsSetsDataById(itemSuit.makeup_sets);\n                if (faceCfg) {\n                    let setsStr = faceCfg.sets;\n                    let setsArr = Utils.str2arr(setsStr);\n                    for (const key_setsArr in setsArr) {\n                        const element_setsArr = setsArr[key_setsArr];\n                        modelFashionList.push({\n                            id: element_setsArr[1],\n                            type: element_setsArr[0],\n                        });\n                    }\n                }\n            }\n\n            model.setData({ ary_looks: modelFashionList });\n        }\n    }\n\n    /**\n     * 传入时装ID，设置时装模型的时装\n     * @param model 时装模型\n     * @param fashion_id 时装套装ID\n     */\n    static setModelFashionWithMyFace(model: RoleObjectAnimation, fashion_id: number) {\n        if (!model || !fashion_id) {\n            return;\n        }\n        let itemSuit = FashionData.getInstance().getFashionSetsById(fashion_id)\n\n        if (itemSuit && itemSuit.sets) {\n            let tempArr = Utils.str2arr(itemSuit.sets);\n            let modelFashionList = []\n\n            for (let i = 0; i < tempArr.length; i++) {\n                const element = tempArr[i];\n                let fId = Number(element[1]);\n                let itemPart = FashionData.getInstance().getFashionItem(fId);\n                if (itemPart) {\n                    let fpd = new FashionPartData();\n                    fpd.id = itemPart.id;\n                    fpd.type = itemPart.type;\n                    modelFashionList.push(fpd);\n                }\n            }\n\n            let faceData = FashionManager.getInstance().getdefaulFaceData();\n            if (faceData) {\n                for (const faceKey in faceData) {\n                    const faceOne = faceData[faceKey];\n                    modelFashionList.push(faceOne);\n                }\n            }\n            model.setData({ ary_looks: modelFashionList });\n        }\n    }\n\n    /**\n    * 过滤特殊字符及Emoji表情符号\n    * @param inputString 传入的字符串\n    */\n    static filterSpecialChar(inputString: string): string {\n        let pattern = new RegExp(\"[`~!@#$^&*()=|{}':;',\\\\[\\\\].<>《》/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？]\");\n        // 过滤特殊字符\n        let subString = inputString.replace(pattern, '');\n        let tmpString = inputString;\n        let isTheSame: boolean = subString != tmpString\n        while (subString != tmpString) {\n            tmpString = subString;\n            subString = subString.replace(pattern, '');\n        }\n        // emoji表情字符过滤\n        let rep = /(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\u0023-\\u0039]\\ufe0f?\\u20e3|\\u3299|\\u3297|\\u303d|\\u3030|\\u24c2|\\ud83c[\\udd70-\\udd71]|\\ud83c[\\udd7e-\\udd7f]|\\ud83c\\udd8e|\\ud83c[\\udd91-\\udd9a]|\\ud83c[\\udde6-\\uddff]|\\ud83c[\\ude01-\\ude02]|\\ud83c\\ude1a|\\ud83c\\ude2f|\\ud83c[\\ude32-\\ude3a]|\\ud83c[\\ude50-\\ude51]|\\u203c|\\u2049|[\\u25aa-\\u25ab]|\\u25b6|\\u25c0|[\\u25fb-\\u25fe]|\\u00a9|\\u00ae|\\u2122|\\u2139|\\ud83c\\udc04|[\\u2600-\\u26FF]|\\u2b05|\\u2b06|\\u2b07|\\u2b1b|\\u2b1c|\\u2b50|\\u2b55|\\u231a|\\u231b|\\u2328|\\u23cf|[\\u23e9-\\u23f3]|[\\u23f8-\\u23fa]|\\ud83c\\udccf|\\u2934|\\u2935|[\\u2190-\\u21ff])/g;\n        subString = subString.replace(rep, \"\");\n        return subString;\n    }\n\n    /**\n     * 发送数据到本地服务器 并将数据保存到指定路径下（需要提前启动本地服务器）\n     * @param data JSON数据 不必主动转成String格式\n     * @param filePath 数据存放的路径 默认值为./_noUpdate/${Date.now()}.txt\n     * @param type 请求类型 0: 写文本 1: 读文本 2: 写Excel 3: 读Excel\n     * @param port 服务器端口 默认3000\n     * @param successCb 成功请求回调 回参中若data.code为200 表示请求且处理成功了 其它情况表示处理失败\n     * @param failCb 失败请求回调\n     * @returns \n     */\n    static writeFileToLocal(data: any, filePath?: string, type: number = 0, port: number = 3000, successCb?: (data: { code: number, msg?: string, data?: any }) => void, failCb?: () => void) {\n        if (!data) {\n            return\n        }\n\n        let xhr = new XMLHttpRequest();\n        xhr.open('POST', `http://127.0.0.1:${port}`, true);\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n        // xhr.setRequestHeader('Access-Control-Allow-Origin', '*');\n        xhr.onreadystatechange = function () {\n            if (xhr.readyState == 4 && (xhr.status >= 200 && xhr.status < 300)) {\n                let response = xhr.responseText;\n                successCb && successCb(JSON.parse(response));\n            }\n        }\n        xhr.onerror = function () {\n            failCb && failCb();\n        }\n\n        let tmpData = {\n            type: type,\n            filePath: filePath,\n            fileData: JSON.stringify(data)\n        }\n        xhr.send(JSON.stringify(tmpData));\n    }\n\n\n\n    /**\n     *\n     *\n     * @static  创建材质并设置其texture，主要用于漫反射贴图，模型贴图\n     * @param {Texture2D} res Texture资源\n     * @param {Material} [material]  材质\n     * @param {Material} passIndex 渲染使用的 Pass 对象数组,默认0\n     * @return {*}  {Material} \n     * @memberof Display\n     */\n    static createAndSetMaterial(res: Texture2D, material?: Material, passIndex?: number): Material {\n        let mat = material;\n        let pass = passIndex || 0;\n        if (mat == null) {\n            mat = new Material();\n            mat.initialize({\n                effectName: \"builtin-standard\",\n                defines: {\n                    USE_ALBEDO_MAP: true\n                },\n            });\n        }\n\n        mat.setProperty(\"mainTexture\", res, pass)\n        mat.setProperty(\"emissiveMap\", res, pass)\n\n        return mat;\n    }\n\n    /**震动节点 */\n    static shakeScreen(node: Node, sType: number, isDef: boolean, pow: number, num?: number, endCallback?, time = 0.04) {\n        sType = sType || 1\n        num = num || 1;\n\n        let d = isDef ? 1 : -1;\n\n        let tx = node.position.x, ty = node.position.y, tz = node.position.z;\n        node.setPosition(tx, ty, tz);\n\n        let arr: Tween<Node>;\n        let ts = time;\n        if (sType == 1) {\n            let dis = 20 * pow;\n            arr = tween(node).to(ts, { position: v3(tx, ty + dis, tz + dis) })\n                .to(ts, { position: v3(tx, ty + dis * 1.5, tz + dis * 1.5) })\n                .to(ts, { position: v3(tx, ty + dis * -1.5, tz + dis * -1.5) })\n                .to(ts, { position: v3(tx, ty, tz) });\n        } else if (sType == 2) {\n            let dis = 20 * pow;\n            arr = tween(node).to(ts, { position: v3(tx, ty + dis, tz + dis) })\n                .to(ts, { position: v3(tx, ty + dis * -1.5, tz + dis * -1.5) })\n                .to(ts, { position: v3(tx, ty + dis * 1.5, tz + dis * 1.5) })\n                .to(ts, { position: v3(tx, ty, tz) });\n        } else if (sType == 3) {\n            let dis = 15 * pow;\n            arr = tween(node).to(ts, { position: v3((tx - dis) * d, ty, tz) })\n                .to(ts, { position: v3((tx + dis * 2 / 3) * d, ty, (tz + dis * 2 / 3) * d) })\n                .to(ts, { position: v3((tx - dis * 1 / 3) * d, ty, (tz + dis * 2 / 3) * d) })\n                .to(ts, { position: v3(tx, ty, tz) });\n        } else if (sType == 4) {\n            let dis = 15 * pow;\n            arr = tween(node).to(ts, { position: v3((tx + dis) * d, ty, (tz + dis) * d) })\n                .to(ts, { position: v3((tx - dis * 2 / 3) * d, ty, (tz - dis * 2 / 3) * d) })\n                .to(ts, { position: v3((tx + dis * 1 / 3) * d, ty, (tz + dis * 1 / 3) * d) })\n                .to(ts, { position: v3(tx, ty, tz) });\n        } else if (sType == 5) {\n            let dis = 20 * pow;\n\n            let x1 = (tx + dis * 3 / 4) * d\n            let y1 = (ty - dis)\n\n            let x2 = (tx - dis * 1 / 2) * d\n            let y2 = (ty + dis * 3 / 4)\n\n            let x3 = (tx + dis * 1 / 4) * d\n            let y3 = (ty - dis * 1 / 2)\n\n            arr = tween(node).to(ts, { position: v3(x1, y1, tz) })\n                .to(ts, { position: v3(x2, y2, tz) })\n                .to(ts, { position: v3(x3, y3, tz) })\n                .to(ts, { position: v3(tx, ty, tz) });\n        } else if (sType == 6) {\n\n            let dis = 20 * pow;\n\n            let x1 = (tx + dis * 3 / 4) * d\n            let y1 = (ty + dis)\n\n            let x2 = (tx - dis * 1 / 2) * d\n            let y2 = (ty - dis * 3 / 4)\n\n            let x3 = (tx + dis * 1 / 4) * d\n            let y3 = (ty + dis * 1 / 2)\n\n            arr = tween(node).to(ts, { position: v3(x1, y1, tz) })\n                .to(ts, { position: v3(x2, y2, tz) })\n                .to(ts, { position: v3(x3, y3, tz) })\n                .to(ts, { position: v3(tx, ty, tz) });\n        }\n\n        if (arr) {\n            tween(node).repeat(num, arr).call(() => {\n                node.setPosition(tx, ty, tz);\n                if (endCallback) {\n                    endCallback()\n                }\n            }).start();\n        }\n    }\n\n\n    /**获取当前分辨率下的屏幕rect */\n    static getScreenRect(): Rect {\n        let rect = new Rect(Display.frameSzie.width / 2, Display.frameSzie.height / 2, Display.frameSzie.width, Display.frameSzie.height);\n        if (Display.curResolutionPolicy == ResolutionPolicy.FIXED_HEIGHT) { //宽屏,高度铺满,可视区域的宽度由高度决定\n            let ratio = Number((Display.design_height / Display.design_width).toFixed(3));\n            rect.width = Display.frameSzie.height / ratio\n        }\n\n        return rect\n    }\n\n    /**\n     * 添加UIMeshComp,用于3d物体显示在ui上,注意node或者子节点必需带有meshrenderer组件\n     */\n    static addUIMeshComponent(node: Node, layer?: number) {\n        let _layer = layer ? layer : LayerHelper.UI_2D\n        Display.setLayer(node, _layer)\n\n        if (node && node.getComponent(MeshRenderer) && !node.getComponent(UIMeshRenderer)) {\n            node.addComponent(UIMeshRenderer);\n        }\n        const childs = node.getComponentsInChildren(MeshRenderer)\n        for (let index = 0; index < childs.length; index++) {\n            const element = childs[index].node;\n            if (element && !element.getComponent(UIMeshRenderer)) {\n                element.addComponent(UIMeshRenderer);\n            }\n        }\n    }\n\n    /** 合适的屏幕尺寸 */\n    static suitableUISize: Size = new Size(1024, 1821)\n    /** 合适的屏幕宽比屏幕设计宽 */\n    static suitableWidthScale: number = 1\n    /** 合适的屏幕高比屏幕设计高 */\n    static suitableHeightScale: number = 1\n\n    /** 更新合适的屏幕尺寸 */\n    static updateSuitableUISize() {\n        let designSize = view.getDesignResolutionSize() // 设计分辨率\n        let visibleSize = view.getVisibleSize() // 实际分辨率\n\n        let realHeight = designSize.height\n        let realWidth = designSize.width\n\n        if (Display.curResolutionPolicy == ResolutionPolicy.FIXED_HEIGHT) {\n            realWidth = visibleSize.width / visibleSize.height * realHeight\n            if (realWidth > designSize.width) { // 高适配下 左右多出来的内容不显示内容\n                realWidth = designSize.width\n            }\n\n        } else if (Display.curResolutionPolicy == ResolutionPolicy.FIXED_WIDTH) {\n            realHeight = visibleSize.height / visibleSize.width * realWidth\n        }\n        this.suitableUISize.width = realWidth\n        this.suitableUISize.height = realHeight\n        this.suitableWidthScale = realWidth / designSize.width\n        this.suitableHeightScale = realHeight / designSize.height\n        console.log(`Update Suitable UISize: witdh(${this.suitableUISize.width}), height(${this.suitableUISize.height}), widthScale(${this.suitableWidthScale}), heightScale(${this.suitableHeightScale})`)\n    }\n\n\n    /**\n * 等比例缩放节点以达到全屏的目的,跟newwinbase方法一致\n * @param node \n * @param mode 缩放方式 SCALE: 修改节点的大小, SIZE: 修改节点的宽高\n * @param real 为真表示根据node的真实宽高去计算 为假表示根据屏幕分辨率的比例变化去计算 默认为真\n */\n    static fullNode(node: Node, mode: \"SCALE\" | \"SIZE\" = \"SIZE\", real: boolean = true) {\n        if (!node) {\n            return\n        }\n\n        let designSize = view.getDesignResolutionSize() // 设计分辨率\n        let suitableSize = Display.suitableUISize // 实际分辨率\n        let updateScale = 1\n\n        if (real) {\n            let uiTrans = node._uiProps.uiTransformComp\n            if (!uiTrans) {\n                console.warn(\"节点上不存在UITransform组件\", node.name)\n                return\n            }\n\n            let nodeSize = new Size(uiTrans.width * node.scale.x, uiTrans.height * node.scale.y)\n            let realScale = suitableSize.height / suitableSize.width\n            let nodeScale = nodeSize.height / nodeSize.width\n\n            if (nodeScale > realScale) { // node相对而言更高 \n                updateScale = suitableSize.width / nodeSize.width\n            } else {\n                updateScale = suitableSize.height / nodeSize.height\n            }\n        } else {\n            if (Display.curResolutionPolicy == ResolutionPolicy.FIXED_WIDTH) {\n                updateScale = Number((suitableSize.height / designSize.height).toFixed(2)) + 0.01\n            } else {\n                // 都高适配了。。我还需要做什么？\n            }\n        }\n\n        if (updateScale <= 1) {\n            return\n        }\n\n        if (mode == \"SCALE\") {\n            node.setScale(node.scale.x * updateScale, node.scale.y * updateScale, node.scale.z)\n        } else if (mode == \"SIZE\") {\n            let uiTrans = node._uiProps.uiTransformComp\n            if (!uiTrans) {\n                console.warn(\"节点上不存在UITransform组件\", node.name)\n                return\n            }\n            uiTrans.setContentSize(uiTrans.width * updateScale, uiTrans.height * updateScale)\n        }\n    }\n\n    /**\n     * 设置节点的可见情况（注意 该方法只是改变透明度 所以如果节点带有可点击方法 点击节点区域还是可能会响应方法的）\n     * @param node \n     * @param isVisible \n     */\n    static setNodeVisible(node: Node, isVisible: boolean) {\n        if (!node) {\n            return\n        }\n        let comp = node.getComponent(UIOpacity)\n        if (!comp) {\n            comp = node.addComponent(UIOpacity)\n        }\n\n        comp.opacity = isVisible ? 255 : 0\n    }\n\n    static setNodeColor(node: Node, color: Color) {\n        let comp = node.getComponent(UIRenderer)\n        if (!comp) {\n            return\n        }\n\n        comp.color = color\n    }\n\n    /**自动点击  传入对应节点的世界坐标  (手机端存在点问题)*/\n    static autoClick(worldPos: Vec3) {\n        // let worldPos = v2(1361.5, 415.5)\n        let posA = v2(Display.visibleToScreenX(worldPos.x), Display.visibleToScreenX(worldPos.y))\n\n        input.activeDispatchEventTouch(posA.x, posA.y, Input.EventType.TOUCH_START)\n        setTimeout(() => {\n            input.activeDispatchEventTouch(posA.x, posA.y, Input.EventType.TOUCH_END)\n        }, 10);\n    }\n\n    /**自动点击 \n     * widget 传入对应节点\n     * posX：相对中心点的偏移X\n     * posY：相对中心点的偏移Y\n     */\n    static fakeClick(widget: Node, posX?: number, posY?: number): boolean {\n        posX = posX ? posX : widget.position.x\n        posY = posY ? posY : widget.position.y\n        if (isValid(widget, true)) {\n            let changedTouches: Touch[] = [];\n            let endEvent = new EventTouch(changedTouches, true, Node.EventType.TOUCH_END);\n            endEvent.touch = new Touch(posX, posY);\n            let startEvent = new EventTouch(changedTouches, true, Node.EventType.TOUCH_START);\n            startEvent.touch = new Touch(posX, posY);\n            widget.emit(Node.EventType.TOUCH_START, startEvent);\n            widget.emit(Node.EventType.TOUCH_END, endEvent);\n            return true;\n        }\n        return false;\n    }\n}\n"]}