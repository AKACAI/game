{"version":3,"sources":["file:///D:/cocos_projects/physics_education_game/assets/scripts/manager/ui_manager/component/ComButton.ts"],"names":["_decorator","Component","ccclass","property","ComButton","eventDict","undefined","initButton","addEvent","data","type","push","removeEvent","func","arr","i","length","removeAllEventByType","removeAllEvent","ButtonEventType"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;;;;;;;;OACf;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBH,U;;2BAGjBI,S,WADZF,OAAO,CAAC,WAAD,C,gBAAR,MACaE,SADb,SAC+BH,SAD/B,CACyC;AAAA;AAAA;AAAA,eAC7BI,SAD6B,GACsBC,SADtB;AAAA;;AAG9BC,QAAAA,UAAU,GAAG;AAChB,eAAKF,SAAL,GAAiB,EAAjB;AACH;;AAEMG,QAAAA,QAAQ,CAACC,IAAD,EAAwB;AACnC,cAAI,CAAC,KAAKJ,SAAL,CAAeI,IAAI,CAACC,IAApB,CAAL,EAAgC;AAC5B,iBAAKL,SAAL,CAAeI,IAAI,CAACC,IAApB,IAA4B,EAA5B;AACH;;AACD,eAAKL,SAAL,CAAeI,IAAI,CAACC,IAApB,EAA0BC,IAA1B,CAA+BF,IAA/B;AACH;;AAEMG,QAAAA,WAAW,CAACC,IAAD,EAAiB;AAC/B,eAAK,IAAIH,IAAT,IAAiB,KAAKL,SAAtB,EAAiC;AAC7B,gBAAIS,GAAG,GAAG,KAAKT,SAAL,CAAeK,IAAf,CAAV;;AACA,gBAAI,CAACI,GAAL,EAAU;AACN;AACH;;AACD,iBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,GAAG,CAACE,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;AACjC,kBAAID,GAAG,CAACC,CAAD,CAAH,CAAOF,IAAP,IAAeA,IAAnB,EAAyB,CAExB;AACJ;AACJ;AACJ;;AAEMI,QAAAA,oBAAoB,CAACP,IAAD,EAAwB;AAC/C,eAAKL,SAAL,CAAeK,IAAf,IAAuB,EAAvB;AACH;;AAEMQ,QAAAA,cAAc,GAAG;AACpB,eAAKb,SAAL,GAAiB,EAAjB;AACH;;AAlCoC,O;;iCAqC7Bc,e,0BAAAA,e;AAAAA,QAAAA,e,CAAAA,e;AAAAA,QAAAA,e,CAAAA,e;eAAAA,e","sourcesContent":["import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ComButton')\r\nexport class ComButton extends Component {\r\n    private eventDict: { [type: number]: ButtonEventArgs[] } = undefined;\r\n\r\n    public initButton() {\r\n        this.eventDict = {};\r\n    }\r\n\r\n    public addEvent(data: ButtonEventArgs) {\r\n        if (!this.eventDict[data.type]) {\r\n            this.eventDict[data.type] = [];\r\n        }\r\n        this.eventDict[data.type].push(data);\r\n    }\r\n\r\n    public removeEvent(func: Function) {\r\n        for (let type in this.eventDict) {\r\n            let arr = this.eventDict[type];\r\n            if (!arr) {\r\n                continue;\r\n            }\r\n            for (let i = 0; i < arr.length; i++) {\r\n                if (arr[i].func == func) {\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public removeAllEventByType(type: ButtonEventType) {\r\n        this.eventDict[type] = [];\r\n    }\r\n\r\n    public removeAllEvent() {\r\n        this.eventDict = {};\r\n    }\r\n}\r\n\r\nexport enum ButtonEventType {\r\n    click = 1,\r\n    doubleClick = 2,\r\n}\r\n\r\nexport interface ButtonEventArgs {\r\n    type: ButtonEventType,\r\n    func: Function,\r\n    target: any,\r\n    params: any,\r\n}"]}